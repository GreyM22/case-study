(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{IlyC:function(n,l,t){"use strict";t.r(l);var e=t("8Y7J");class u{}var o=t("pMnS"),i=t("SVse"),r=t("s7LF"),s=t("UMP7"),a=t("qxDi");class c{constructor(n,l,t,e,u){this.departmentService=n,this.router=l,this._router=t,this.formBuilder=e,this.loadingStore=u,this.creteForm()}creteForm(){this.departmentForm=this.formBuilder.group({name:"",description:""})}ngOnInit(){this.loadingStore.dispatch(Object(a.a)()),this.router.paramMap.subscribe(n=>{n.has("id")?(this.editMode=!0,this.departmentId=n.get("id"),this.departmentService.getById(this.departmentId).subscribe(n=>{this.loadingStore.dispatch(Object(a.b)()),this.departmentForm=new r.g({name:new r.e(n.department.name,[r.s.required,r.s.minLength(4)]),description:new r.e(n.department.description,[r.s.required,r.s.minLength(50)])})},n=>{this.loadingStore.dispatch(Object(a.b)()),this.messageFromServer=n.error.message,this.error=!0})):(this.loadingStore.dispatch(Object(a.b)()),this.departmentForm=new r.g({name:new r.e("",[r.s.required,r.s.minLength(4)]),description:new r.e("",[r.s.required,r.s.minLength(50)])}))})}get name(){return this.departmentForm.get("name")}get description(){return this.departmentForm.get("description")}onSubmit(){if(this.departmentForm.valid){if(this.loadingStore.dispatch(Object(a.a)()),this.editMode)return this.departmentService.update(this.departmentId,this.departmentForm.value.name,this.departmentForm.value.description).subscribe(n=>{this.loadingStore.dispatch(Object(a.b)()),console.log(n.message),this._router.navigate(["/"])},n=>{this.messageFromServer=n.error.message,this.error=!0,this.loadingStore.dispatch(Object(a.b)())});this.departmentService.post(this.departmentForm.value.name,this.departmentForm.value.description).subscribe(n=>{this.loadingStore.dispatch(Object(a.b)()),this.messageFromServer=n.message,this.departmentForm.reset()},n=>{this.loadingStore.dispatch(Object(a.b)()),this.messageFromServer=n.error.message,this.error=!0})}}}var b=t("eJOI"),d=t("iInd"),m=t("DQLy"),p=e.xb({encapsulation:0,styles:[["._container[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.card[_ngcontent-%COMP%]{max-width:561px;margin-top:72px;margin-bottom:72px;border-color:#0a2a59}.card-success[_ngcontent-%COMP%]{border-color:#608830!important}.text-edit[_ngcontent-%COMP%]{color:#0a2a59}.card-edit[_ngcontent-%COMP%]{border-color:#f7d811}.form-group[_ngcontent-%COMP%]{text-align:left!important}.submit[_ngcontent-%COMP%]{color:#fff;background-color:#305ea1}.submit-success[_ngcontent-%COMP%]{background-color:#608830!important}.submit-edit[_ngcontent-%COMP%]{background-color:#f7d811!important}.submit[_ngcontent-%COMP%]:focus, .submit[_ngcontent-%COMP%]:hover{background-color:#244679}.submit-success[_ngcontent-%COMP%]:focus, .submit-success[_ngcontent-%COMP%]:hover{background-color:#456222!important}.submit-edit[_ngcontent-%COMP%]:focus, .submit-edit[_ngcontent-%COMP%]:hover{background-color:#e8ca07!important}.card-footer[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-color:#0a2a59}.card-footer-success[_ngcontent-%COMP%], .card-header-success[_ngcontent-%COMP%], .form-control-success[_ngcontent-%COMP%]{border-color:#608830}.card-footer-edit[_ngcontent-%COMP%], .card-header-edit[_ngcontent-%COMP%], .form-control-edit[_ngcontent-%COMP%]{border-color:#f7d811}.card-footer-success[_ngcontent-%COMP%]{color:#608830}.card-footer-edit[_ngcontent-%COMP%]{color:#f7d811}.form-control[_ngcontent-%COMP%]:focus, .submit[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #305ea1}.form-control-success[_ngcontent-%COMP%]:focus, .submit-success[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #608830}.form-control-edit[_ngcontent-%COMP%]:focus, .submit-edit[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #f7d811}"]],data:{}});function g(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(2,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"card-header-success":0}),(n()(),e.Tb(-1,null,[" Create Department "]))],(function(n,l){var t=l.component,e=n(l,3,0,t.departmentForm.valid&&t.departmentForm.dirty);n(l,2,0,"card-header",e)}),null)}function h(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(2,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"text-danger":0,"text-success":1}),(n()(),e.Tb(4,null,[" "," "]))],(function(n,l){var t=l.component,e=n(l,3,0,t.error,!t.error);n(l,2,0,"card-header",e)}),(function(n,l){n(l,4,0,l.component.messageFromServer)}))}function f(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[["class","card-header text-edit card-header-edit"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Edit Department "]))],null,null)}function v(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Name is required. "]))],null,null)}function y(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Name must be at least 4 characters long. "]))],null,null)}function C(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","text-danger mt-2"]],null,null,null,null,null)),(n()(),e.ob(16777216,null,null,1,null,v)),e.yb(2,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,y)),e.yb(4,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,2,0,t.name.errors.required),n(l,4,0,t.name.errors.minlength)}),null)}function P(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Description is required. "]))],null,null)}function O(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Description must be at least 50 characters long. "]))],null,null)}function S(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","text-danger mt-2"]],null,null,null,null,null)),(n()(),e.ob(16777216,null,null,1,null,P)),e.yb(2,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,O)),e.yb(4,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,2,0,t.description.errors.required),n(l,4,0,t.description.errors.minlength)}),null)}function x(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,58,"div",[["class","_container"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,57,"div",[["class","card text-center mx-auto "]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(3,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(4,{"card-success":0,"card-edit":1}),(n()(),e.ob(16777216,null,null,1,null,g)),e.yb(6,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,h)),e.yb(8,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,f)),e.yb(10,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(11,0,null,null,42,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.zb(12,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Insert the information for the department!"])),(n()(),e.zb(14,0,null,null,39,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var u=!0,o=n.component;return"submit"===l&&(u=!1!==e.Lb(n,16).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Lb(n,16).onReset()&&u),"submit"===l&&(u=!1!==o.onSubmit()&&u),u}),null,null)),e.yb(15,16384,null,0,r.x,[],null,null),e.yb(16,540672,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),e.Qb(2048,null,r.b,null,[r.h]),e.yb(18,16384,null,0,r.n,[[4,r.b]],null,null),(n()(),e.zb(19,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.zb(20,0,null,null,1,"label",[["for","departmentName"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Department Name"])),(n()(),e.zb(22,0,null,null,9,"input",[["class","form-control"],["formControlName","name"],["id","departmentName"],["specialIsAlphaNumericWithSpace",""],["type","text"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"],[null,"paste"]],(function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Lb(n,26)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Lb(n,26).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Lb(n,26)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Lb(n,26)._compositionEnd(t.target.value)&&u),"keypress"===l&&(u=!1!==e.Lb(n,31).onKeyPress(t)&&u),"paste"===l&&(u=!1!==e.Lb(n,31).blockPaste(t)&&u),u}),null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(24,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(25,{"form-control-success":0,"form-control-edit":1}),e.yb(26,16384,null,0,r.c,[e.K,e.n,[2,r.a]],null,null),e.Qb(1024,null,r.k,(function(n){return[n]}),[r.c]),e.yb(28,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.k],[2,r.v]],{name:[0,"name"]},null),e.Qb(2048,null,r.l,null,[r.f]),e.yb(30,16384,null,0,r.m,[[4,r.l]],null,null),e.yb(31,16384,null,0,s.a,[e.n],null,null),(n()(),e.ob(16777216,null,null,1,null,C)),e.yb(33,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(34,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.zb(35,0,null,null,1,"label",[["for","departmentDescription"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Description"])),(n()(),e.zb(37,0,null,null,9,"textarea",[["class","form-control"],["formControlName","description"],["id","departmentDescription"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Lb(n,41)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Lb(n,41).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Lb(n,41)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Lb(n,41)._compositionEnd(t.target.value)&&u),u}),null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(39,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(40,{"form-control-success":0,"form-control-edit":1}),e.yb(41,16384,null,0,r.c,[e.K,e.n,[2,r.a]],null,null),e.Qb(1024,null,r.k,(function(n){return[n]}),[r.c]),e.yb(43,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.k],[2,r.v]],{name:[0,"name"]},null),e.Qb(2048,null,r.l,null,[r.f]),e.yb(45,16384,null,0,r.m,[[4,r.l]],null,null),(n()(),e.Tb(46,null,["            ","\n          "])),(n()(),e.ob(16777216,null,null,1,null,S)),e.yb(48,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(49,0,null,null,4,"button",[["class","btn submit w-100"],["type","submit"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(51,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(52,{"submit-success":0,"submit-edit":1}),(n()(),e.Tb(-1,null,[" Submit "])),(n()(),e.zb(54,0,null,null,4,"div",[["class","card-footer text-muted"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(56,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(57,{"card-footer-success":0,"card-footer-edit":1}),(n()(),e.Tb(-1,null,[" Click on Submit to finish! "]))],(function(n,l){var t=l.component,e=n(l,4,0,(null==t.departmentForm?null:t.departmentForm.valid)&&t.departmentForm.dirty,t.editMode);n(l,3,0,"card text-center mx-auto ",e),n(l,6,0,!t.messageFromServer&&!t.editMode),n(l,8,0,t.messageFromServer),n(l,10,0,!t.messageFromServer&&t.editMode),n(l,16,0,t.departmentForm);var u=n(l,25,0,t.name.valid&&t.name.dirty,t.editMode);n(l,24,0,"form-control",u),n(l,28,0,"name"),n(l,33,0,t.name.invalid&&(t.name.dirty||t.name.touched));var o=n(l,40,0,t.description.valid&&t.description.dirty,t.editMode);n(l,39,0,"form-control",o),n(l,43,0,"description"),n(l,48,0,t.description.invalid&&(t.description.dirty||t.description.touched));var i=n(l,52,0,t.departmentForm.valid&&t.departmentForm.dirty,t.editMode);n(l,51,0,"btn submit w-100",i);var r=n(l,57,0,t.departmentForm.valid&&t.departmentForm.dirty,t.editMode);n(l,56,0,"card-footer text-muted",r)}),(function(n,l){var t=l.component;n(l,14,0,e.Lb(l,18).ngClassUntouched,e.Lb(l,18).ngClassTouched,e.Lb(l,18).ngClassPristine,e.Lb(l,18).ngClassDirty,e.Lb(l,18).ngClassValid,e.Lb(l,18).ngClassInvalid,e.Lb(l,18).ngClassPending),n(l,22,0,e.Db(1,"",t.departmentForm.value.name,""),e.Lb(l,30).ngClassUntouched,e.Lb(l,30).ngClassTouched,e.Lb(l,30).ngClassPristine,e.Lb(l,30).ngClassDirty,e.Lb(l,30).ngClassValid,e.Lb(l,30).ngClassInvalid,e.Lb(l,30).ngClassPending),n(l,37,0,e.Db(1,"",t.departmentForm.value.description,""),e.Lb(l,45).ngClassUntouched,e.Lb(l,45).ngClassTouched,e.Lb(l,45).ngClassPristine,e.Lb(l,45).ngClassDirty,e.Lb(l,45).ngClassValid,e.Lb(l,45).ngClassInvalid,e.Lb(l,45).ngClassPending),n(l,46,0,t.departmentForm.value.description)}))}function M(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-create-department",[],null,null,null,x,p)),e.yb(1,114688,null,0,c,[b.a,d.a,d.k,r.d,m.m],null,null)],(function(n,l){n(l,1,0)}),null)}var k=e.vb("app-create-department",c,M,{},{},[]),_=t("Mr+X"),z=t("Gi4r"),L=t("b0oa");class I{constructor(n,l,t){this.employeeService=n,this.authService=l,this.confirmationModalService=t}ngOnInit(){this.employeeService.getEmployeeJobPosition(this.employee.id).subscribe(n=>{this.employeeJobPosition=n.position,console.log(n.message)},n=>console.log(n.message))}fireEmployee(){const n=this.employee.name,l=this.employee.surname,t=this.confirmationModalService.open(L.a);t.componentInstance.name="fire "+n+" "+l,t.componentInstance.passEntry.subscribe(n=>{n&&this.employeeService.fireEmployee(this.employee.id)})}}var F=t("qjMU"),w=t("qXBG"),V=t("G0yt"),T=e.xb({encapsulation:0,styles:[["blockquote[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.95rem!important;margin:0}blockquote[_ngcontent-%COMP%]   cite[_ngcontent-%COMP%]{font-size:.85rem!important}.card[_ngcontent-%COMP%]{background-color:transparent!important;border:none!important}a[_ngcontent-%COMP%]{color:#252323}a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{display:inline-block!important;width:40px;padding:0}.actions[_ngcontent-%COMP%]{width:120px}.view[_ngcontent-%COMP%]:hover{cursor:pointer;color:#305ea1}.edit[_ngcontent-%COMP%]:hover{cursor:pointer;color:orange}.delete[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}"]],data:{}});function E(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,5,"a",[["class","edit  mx-2 "],["ngbTooltip","Click to edit employee's information!"],["placement","top"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.yb(1,671744,null,0,d.n,[d.k,d.a,i.i],{routerLink:[0,"routerLink"]},null),e.Mb(2,2),(n()(),e.zb(3,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,_.b,_.a)),e.yb(4,9158656,null,0,z.b,[e.n,z.d,[8,null],[2,z.a],[2,e.o]],null,null),(n()(),e.Tb(-1,0,["edit"]))],(function(n,l){var t=n(l,2,0,"/employees/edit-employee",l.component.employee.id);n(l,1,0,t),n(l,4,0)}),(function(n,l){n(l,0,0,e.Lb(l,1).target,e.Lb(l,1).href),n(l,3,0,e.Lb(l,4).inline,"primary"!==e.Lb(l,4).color&&"accent"!==e.Lb(l,4).color&&"warn"!==e.Lb(l,4).color)}))}function N(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"button",[["class","delete btn  ml-0 mr-auto"],["ngbTooltip","Click to fire employee!"],["placement","top"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.fireEmployee()&&e),e}),null,null)),(n()(),e.zb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,_.b,_.a)),e.yb(2,9158656,null,0,z.b,[e.n,z.d,[8,null],[2,z.a],[2,e.o]],null,null),(n()(),e.Tb(-1,0,["delete"]))],(function(n,l){n(l,2,0)}),(function(n,l){n(l,1,0,e.Lb(l,2).inline,"primary"!==e.Lb(l,2).color&&"accent"!==e.Lb(l,2).color&&"warn"!==e.Lb(l,2).color)}))}function j(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,18,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,17,"div",[["class","card-body px-0 py-1"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,16,"blockquote",[["class","blockquote mb-0 text-lg-left text-center"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(4,null,[""," ",""])),(n()(),e.zb(5,0,null,null,2,"footer",[["class","blockquote-footer"]],null,null,null,null,null)),(n()(),e.zb(6,0,null,null,1,"cite",[["title","Source Title"]],null,null,null,null,null)),(n()(),e.Tb(7,null,["",""])),(n()(),e.zb(8,0,null,null,10,"div",[["class","actions d-block d-lg-block d-flex justify-content-lg-center w-100"]],null,null,null,null,null)),(n()(),e.zb(9,0,null,null,5,"a",[["class","view ml-auto mr-0 "],["ngbTooltip","Click to view employee's information!"],["placement","top"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,10).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.yb(10,671744,null,0,d.n,[d.k,d.a,i.i],{routerLink:[0,"routerLink"]},null),e.Mb(11,2),(n()(),e.zb(12,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,_.b,_.a)),e.yb(13,9158656,null,0,z.b,[e.n,z.d,[8,null],[2,z.a],[2,e.o]],null,null),(n()(),e.Tb(-1,0,["remove_red_eye"])),(n()(),e.ob(16777216,null,null,1,null,E)),e.yb(16,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,N)),e.yb(18,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component,e=n(l,11,0,"/employees/view-employee",t.employee.id);n(l,10,0,e),n(l,13,0),n(l,16,0,t.authService.isAuthorized(t.employee.departmentId)||t.authService.isSuperAdmin()),n(l,18,0,t.authService.isAuthorized(t.employee.departmentId)||t.authService.isSuperAdmin())}),(function(n,l){var t=l.component;n(l,4,0,t.employee.name,t.employee.surname),n(l,7,0,null==t.employeeJobPosition?null:t.employeeJobPosition.name),n(l,9,0,e.Lb(l,10).target,e.Lb(l,10).href),n(l,12,0,e.Lb(l,13).inline,"primary"!==e.Lb(l,13).color&&"accent"!==e.Lb(l,13).color&&"warn"!==e.Lb(l,13).color)}))}class D{constructor(n,l,t){this.positionService=n,this.authService=l,this.confirmationModalService=t}ngOnInit(){}delete(n){const l=this.confirmationModalService.open(L.a);l.componentInstance.name="delete "+this.position.name+" Position",l.componentInstance.passEntry.subscribe(l=>{l&&this.positionService.deleteById(n).subscribe(n=>{console.log(n.message)},n=>console.log(n))})}}var J=t("Znr2"),A=e.xb({encapsulation:0,styles:[[".card[_ngcontent-%COMP%]{margin:10px;background-color:#fbeeef;border-color:#771c22}.card-text[_ngcontent-%COMP%]{height:166px}.btn[_ngcontent-%COMP%]{background-color:#fef4b7;color:#0a2a59;margin:5px;width:45%;border-color:#ffd800}.btn[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #ffd800}button.btn[_ngcontent-%COMP%]{background-color:red;color:#fff}button.btn[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px red;color:red;border-color:red}"]],data:{}});function B(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"a",[["class","btn "],["ngbTooltip","Click to edit this job position!"],["placement","top"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.yb(1,671744,null,0,d.n,[d.k,d.a,i.i],{routerLink:[0,"routerLink"]},null),e.Mb(2,2),(n()(),e.Tb(-1,null,["Edit"]))],(function(n,l){var t=n(l,2,0,"/departments/edit-position",l.component.position.id);n(l,1,0,t)}),(function(n,l){n(l,0,0,e.Lb(l,1).target,e.Lb(l,1).href)}))}function K(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"button",[["class","btn w-30 "],["ngbTooltip","Click to delete this job position!"],["placement","top"]],null,[[null,"click"]],(function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.delete(u.position.id)&&e),e}),null,null)),(n()(),e.Tb(-1,null,["Delete"]))],null,null)}function q(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,10,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,9,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,1,"h6",[["class","card-title"]],null,null,null,null,null)),(n()(),e.Tb(3,null,["",""])),(n()(),e.zb(4,0,null,null,2,"p",[["class","card-text"]],null,null,null,null,null)),(n()(),e.Tb(5,null,["","..."])),e.Nb(0,i.s,[]),(n()(),e.ob(16777216,null,null,1,null,B)),e.yb(8,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,K)),e.yb(10,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,8,0,t.authService.isAuthorized(t.position.departmentId)||t.authService.isSuperAdmin()),n(l,10,0,t.authService.isAuthorized(t.position.departmentId)||t.authService.isSuperAdmin())}),(function(n,l){var t=l.component;n(l,3,0,t.position.name),n(l,5,0,e.Ub(l,5,0,e.Lb(l,6).transform(t.position.description,0,210)))}))}var Q=t("tb94"),U=t("SnAM");class ${constructor(n,l,t,e,u,o,i,r,s){this.positionService=n,this.router=l,this._router=t,this.departmentService=e,this.employeeService=u,this.authService=o,this.store=i,this.loadingStore=r,this.confirmationModalService=s,this.departmentJobPositions=[],this.departmentEmployees=[],this.departmentAdmins=[],this.pagePositionNumber=1,this.pagePositionSize=3,this.pageEmployeesNumber=1,this.pageEmployeesSize=4}ngOnInit(){this.loadingStore.dispatch(Object(a.a)()),this.router.paramMap.subscribe(n=>{this.departmentId=n.get("id"),this.departmentService.getById(this.departmentId).subscribe(n=>{this.department=n.department,console.log(n.message)},n=>this.errorFromServerForDepartment=n.error.message),this.positionService.getPositions(this.departmentId,this.pagePositionNumber,this.pagePositionSize),this.updatedPositions=this.positionService.getUpdatedPositions().subscribe(n=>{this.departmentJobPositions=n,this.totalNumberOfJobPositions=this.positionService.getNumberOfPosition()},n=>this.store.dispatch(Object(U.b)({payload:{message:n.error.message}}))),this.employeeService.getEmployees(this.departmentId,this.pageEmployeesNumber,this.pageEmployeesSize),this.updatedEmployees=this.employeeService.getUpdatedEmployees().subscribe(n=>{if(this.departmentEmployees=n,this.totalNumberOfJobEmployees=this.employeeService.getTotalNumberOfEmployees(),this.department.employeeId){const l=n.filter(n=>this.department.employeeId===n.id);this.adminName=l[0].name+" "+l[0].surname}},n=>this.store.dispatch(Object(U.b)({payload:{message:n.error.message}}))),this.authService.getAdmins(+this.departmentId).subscribe(n=>{this.departmentAdmins=n.admins,console.log(n.message)},n=>this.store.dispatch(Object(U.b)({payload:{message:n.error.message}}))),this.loadingStore.dispatch(Object(a.b)())},n=>this.store.dispatch(Object(U.b)({payload:{message:n}})))}removeAdmin(){this.department.employeeId=null,this.adminName=null}ngOnDestroy(){this.updatedPositions.unsubscribe(),this.updatedEmployees.unsubscribe()}nextPage(n,l){if(l){if((this.pagePositionNumber+n)*this.pagePositionSize>this.totalNumberOfJobPositions+1||this.pagePositionNumber+n<=0)return;this.pagePositionNumber+=n}else this.pagePositionNumber=n;this.positionService.getPositions(this.departmentId,this.pagePositionNumber,this.pagePositionSize)}nextPageEmployees(n,l){if(l){if((this.pageEmployeesNumber+n)*this.pageEmployeesSize>=this.totalNumberOfJobEmployees+1||this.pageEmployeesNumber+n<=0)return;this.pageEmployeesNumber+=n}else this.pageEmployeesNumber=n;this.employeeService.getEmployees(this.departmentId,this.pageEmployeesNumber,this.pageEmployeesSize)}deleteAdmin(n,l,t){const e=this.confirmationModalService.open(L.a);e.componentInstance.name="delete Admin "+l+" "+t,e.componentInstance.passEntry.subscribe(l=>{this.authService.deleteAdmin(n).subscribe(l=>{this.departmentAdmins=this.departmentAdmins.filter(l=>l.id!==n),console.log(l.message)},n=>console.log(n.message))})}}var G=e.xb({encapsulation:0,styles:[['.card[_ngcontent-%COMP%]{width:calc(100% - 40px);background-color:#fff9ef;border-color:orange;color:#36454f;margin:20px;display:inline-block}.card-text[_ngcontent-%COMP%]{min-height:200px}.btn[_ngcontent-%COMP%]{background-color:#fef4b7;color:#0a2a59;margin:5px;width:45%;border-color:#ffd800}.btn[_ngcontent-%COMP%]:focus{background-color:#fffbea;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #ffd800}button.btn[_ngcontent-%COMP%]{background-color:red;color:#fff}button.btn[_ngcontent-%COMP%]:focus{background-color:#fff;box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px red;color:red;border-color:red}.card-text.department-view[_ngcontent-%COMP%]{min-height:50px}.card-text.card-lists[_ngcontent-%COMP%]{margin-left:-10px}.admin-section[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{display:inline}.admin-button[_ngcontent-%COMP%], employee-button[_ngcontent-%COMP%]{width:149px;margin-left:15px}.employee-button[_ngcontent-%COMP%]{margin-left:0}.dropdown-menu.show[_ngcontent-%COMP%]{width:312px;max-height:400px}ul.pagination[_ngcontent-%COMP%]{max-width:248px!important}.page-link[_ngcontent-%COMP%]{cursor:pointer}.admins-list[_ngcontent-%COMP%]{list-style-type:none!important}.admin-element[_ngcontent-%COMP%]::before{content:"\\2014\\00A0"}a[_ngcontent-%COMP%]{color:#000}a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%], button[_ngcontent-%COMP%]{display:inline-block!important;width:40px;padding:0}.admin-element[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:20px;width:25px}.edit[_ngcontent-%COMP%]:hover{cursor:pointer;color:orange}.delete[_ngcontent-%COMP%]:hover{cursor:pointer;color:red}app-positions-list[_ngcontent-%COMP%]{display:inline-block;width:320px}@media screen and (max-width:991px){h5[_ngcontent-%COMP%]{text-align:center}.description[_ngcontent-%COMP%]{margin-top:48px}}@media screen and (max-width:412px){app-positions-list[_ngcontent-%COMP%]{width:100%}}']],data:{}});function X(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,5,"a",[["class","edit "],["ngbTooltip","Click to edit the Admin of the department!"],["placement","top"],["title","Edit Employee!"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,1).onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)&&u),u}),null,null)),e.yb(1,671744,null,0,d.n,[d.k,d.a,i.i],{routerLink:[0,"routerLink"]},null),e.Mb(2,2),(n()(),e.zb(3,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,_.b,_.a)),e.yb(4,9158656,null,0,z.b,[e.n,z.d,[8,null],[2,z.a],[2,e.o]],null,null),(n()(),e.Tb(-1,0,["edit"]))],(function(n,l){var t=n(l,2,0,"/auth/edit-admin",l.parent.context.$implicit.id);n(l,1,0,t),n(l,4,0)}),(function(n,l){n(l,0,0,e.Lb(l,1).target,e.Lb(l,1).href),n(l,3,0,e.Lb(l,4).inline,"primary"!==e.Lb(l,4).color&&"accent"!==e.Lb(l,4).color&&"warn"!==e.Lb(l,4).color)}))}function Z(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"a",[["class","delete "],["ngbTooltip","Click to delete the Admin of the department!"],["placement","right"],["title","Fire Employee!"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.deleteAdmin(n.parent.context.$implicit.id,n.parent.context.$implicit.name,n.parent.context.$implicit.surname)&&e),e}),null,null)),(n()(),e.zb(1,0,null,null,2,"mat-icon",[["class","mat-icon notranslate"],["role","img"]],[[2,"mat-icon-inline",null],[2,"mat-icon-no-color",null]],null,null,_.b,_.a)),e.yb(2,9158656,null,0,z.b,[e.n,z.d,[8,null],[2,z.a],[2,e.o]],null,null),(n()(),e.Tb(-1,0,["delete"]))],(function(n,l){n(l,2,0)}),(function(n,l){n(l,1,0,e.Lb(l,2).inline,"primary"!==e.Lb(l,2).color&&"accent"!==e.Lb(l,2).color&&"warn"!==e.Lb(l,2).color)}))}function R(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,5,"li",[["class","admin-element"]],null,null,null,null,null)),(n()(),e.Tb(1,null,[" "," "," "])),(n()(),e.ob(16777216,null,null,1,null,X)),e.yb(3,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,Z)),e.yb(5,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,3,0,t.authService.isSuperAdmin()),n(l,5,0,t.authService.isSuperAdmin())}),(function(n,l){n(l,1,0,l.context.$implicit.name,l.context.$implicit.surname)}))}function W(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-employees-list",[],null,null,null,j,T)),e.yb(1,114688,null,0,I,[F.a,w.a,V.w],{employee:[0,"employee"]},null)],(function(n,l){n(l,1,0,l.context.$implicit)}),null)}function Y(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,2,"li",[["class","page-item"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextPageEmployees(n.context.$implicit+1,!1)&&e),e}),null,null)),(n()(),e.zb(1,0,null,null,1,"span",[["class","page-link"]],null,null,null,null,null)),(n()(),e.Tb(2,null,["",""]))],null,(function(n,l){n(l,2,0,l.context.$implicit+1)}))}function H(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,10,"nav",[["aria-label","Departments navigation"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,9,"ul",[["class","pagination ml-0 mr-auto"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,2,"li",[["class","page-item"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextPageEmployees(-1,!0)&&e),e}),null,null)),(n()(),e.zb(3,0,null,null,1,"span",[["class","page-link"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Previous"])),(n()(),e.ob(16777216,null,null,2,null,Y)),e.yb(6,278528,null,0,i.k,[e.V,e.S,e.v],{ngForOf:[0,"ngForOf"]},null),e.Pb(7,1),(n()(),e.zb(8,0,null,null,2,"li",[["class","page-item"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextPageEmployees(1,!0)&&e),e}),null,null)),(n()(),e.zb(9,0,null,null,1,"span",[["class","page-link"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Next"]))],(function(n,l){var t=l.component,u=e.Ub(l,6,0,n(l,7,0,e.Lb(l.parent.parent,0),t.totalNumberOfJobEmployees/t.pageEmployeesSize));n(l,6,0,u)}),null)}function nn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-positions-list",[],null,null,null,q,A)),e.yb(1,114688,null,0,D,[J.a,w.a,V.w],{position:[0,"position"]},null)],(function(n,l){n(l,1,0,l.context.$implicit)}),null)}function ln(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,2,"li",[["class","page-item"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextPage(n.context.$implicit+1,!1)&&e),e}),null,null)),(n()(),e.zb(1,0,null,null,1,"span",[["class","page-link"]],null,null,null,null,null)),(n()(),e.Tb(2,null,["",""]))],null,(function(n,l){n(l,2,0,l.context.$implicit+1)}))}function tn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,10,"nav",[["aria-label","Departments navigation"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,9,"ul",[["class","pagination mx-auto "]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,2,"li",[["class","page-item"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextPage(-1,!0)&&e),e}),null,null)),(n()(),e.zb(3,0,null,null,1,"span",[["class","page-link"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Previous"])),(n()(),e.ob(16777216,null,null,2,null,ln)),e.yb(6,278528,null,0,i.k,[e.V,e.S,e.v],{ngForOf:[0,"ngForOf"]},null),e.Pb(7,1),(n()(),e.zb(8,0,null,null,2,"li",[["class","page-item"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.nextPage(1,!0)&&e),e}),null,null)),(n()(),e.zb(9,0,null,null,1,"span",[["class","page-link"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Next"]))],(function(n,l){var t=l.component,u=e.Ub(l,6,0,n(l,7,0,e.Lb(l.parent.parent,0),t.totalNumberOfJobPositions/t.pagePositionSize));n(l,6,0,u)}),null)}function en(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,29,"div",[["class","card"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,28,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,27,"div",[["class","row"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,14,"div",[["class","col-lg-3"]],null,null,null,null,null)),(n()(),e.zb(4,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),e.Tb(5,null,["",""])),(n()(),e.zb(6,0,null,null,5,"div",[["class","admins-department"]],null,null,null,null,null)),(n()(),e.zb(7,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Admins:"])),(n()(),e.zb(9,0,null,null,2,"ul",[["class","admins-list pl-2"]],null,null,null,null,null)),(n()(),e.ob(16777216,null,null,1,null,R)),e.yb(11,278528,null,0,i.k,[e.V,e.S,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.zb(12,0,null,null,1,"div",[["class","subtitle mb-3 "]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Employees:"])),(n()(),e.ob(16777216,null,null,1,null,W)),e.yb(15,278528,null,0,i.k,[e.V,e.S,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ob(16777216,null,null,1,null,H)),e.yb(17,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(18,0,null,null,11,"div",[["class","col-lg-auto col-12 text-lg-left text-center "]],null,null,null,null,null)),(n()(),e.zb(19,0,null,null,1,"h6",[["class","description"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Description"])),(n()(),e.zb(21,0,null,null,1,"p",[["class","card-text department-view"]],null,null,null,null,null)),(n()(),e.Tb(22,null,["",""])),(n()(),e.zb(23,0,null,null,1,"h6",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Job Position"])),(n()(),e.zb(25,0,null,null,2,"p",[["class","card-text card-lists"]],null,null,null,null,null)),(n()(),e.ob(16777216,null,null,1,null,nn)),e.yb(27,278528,null,0,i.k,[e.V,e.S,e.v],{ngForOf:[0,"ngForOf"]},null),(n()(),e.ob(16777216,null,null,1,null,tn)),e.yb(29,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,11,0,t.departmentAdmins),n(l,15,0,t.departmentEmployees),n(l,17,0,t.totalNumberOfJobEmployees>t.pageEmployeesSize),n(l,27,0,t.departmentJobPositions),n(l,29,0,t.totalNumberOfJobPositions>t.pagePositionSize)}),(function(n,l){var t=l.component;n(l,5,0,null==t.department?null:t.department.name),n(l,22,0,null==t.department?null:t.department.description)}))}function un(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[["class","alert alert-danger m-5 text-center"],["role","alert"]],null,null,null,null,null)),(n()(),e.Tb(1,null,[" ","\n"]))],null,(function(n,l){n(l,1,0,l.component.errorFromServerForDepartment)}))}function on(n){return e.Vb(0,[e.Nb(0,Q.a,[]),(n()(),e.ob(16777216,null,null,1,null,en)),e.yb(2,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,un)),e.yb(4,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,2,0,!t.errorFromServerForDepartment),n(l,4,0,t.errorFromServerForDepartment)}),null)}function rn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-view-department",[],null,null,null,on,G)),e.yb(1,245760,null,0,$,[J.a,d.a,d.k,b.a,F.a,w.a,m.m,m.m,V.w],null,null)],(function(n,l){n(l,1,0)}),null)}var sn=e.vb("app-view-department",$,rn,{},{},[]);class an{constructor(n,l,t,e,u,o,i,r){this.departmentService=n,this.positionService=l,this.router=t,this._router=e,this.formBuilder=u,this.authService=o,this.store=i,this.loadingStore=r,this.creteForm()}creteForm(){this.positionForm=this.formBuilder.group({name:"",description:"",departmentId:""})}get name(){return this.positionForm.get("name")}get description(){return this.positionForm.get("description")}ngOnInit(){this.loadingStore.dispatch(Object(a.a)()),this.router.paramMap.subscribe(n=>{n.has("id")?(this.editMode=!0,this.positionId=n.get("id"),this.positionService.getById(this.positionId).subscribe(n=>{this.loadingStore.dispatch(Object(a.b)());const l=n.position;this.positionForm=new r.g({name:new r.e(l.name,[r.s.required,r.s.minLength(4)]),description:new r.e(l.description,[r.s.required,r.s.minLength(50)]),departmentId:new r.e(l.departmentId,[r.s.required])})},n=>{this.loadingStore.dispatch(Object(a.b)()),this.messageFromServer=n.error.message,this.error=!0})):(this.loadingStore.dispatch(Object(a.b)()),this.positionForm=new r.g({name:new r.e("",[r.s.required,r.s.minLength(4)]),description:new r.e("",[r.s.required,r.s.minLength(50)]),departmentId:new r.e("",[r.s.required])}))}),this.departmentService.getAll(null,null).subscribe(n=>{this.departments=n.departments,this.authService.isSuperAdmin()||this.store.subscribe(n=>{const l=n.user.departmentId;this.departments=this.departments.filter(n=>+n.id===l)},n=>{this.messageFromServer=n.error.message,this.error=!0})},n=>{this.error=!0,this.messageFromServer=n.error.message})}onSubmit(){if(this.positionForm.valid)return this.loadingStore.dispatch(Object(a.a)()),this.editMode?this.positionService.updatePosition(this.positionForm.value.departmentId,this.positionId,this.positionForm.value.name,this.positionForm.value.description).subscribe(n=>{this.loadingStore.dispatch(Object(a.b)()),console.log(n.message),this._router.navigate(["/departments/view-department",this.positionForm.value.departmentId])},n=>{this.loadingStore.dispatch(Object(a.b)()),this.error=!0,this.messageFromServer=n.error.message}):void this.positionService.postPosition(this.positionForm.value.name,this.positionForm.value.description,this.positionForm.value.departmentId).subscribe(n=>{this.loadingStore.dispatch(Object(a.b)()),this.error=!1,this.messageFromServer=n.message,this.positionForm.reset()},n=>{this.loadingStore.dispatch(Object(a.b)()),this.error=!0,this.messageFromServer=n.error.message})}}var cn=e.xb({encapsulation:0,styles:[["._container[_ngcontent-%COMP%]{margin-left:20px;margin-right:20px}.card[_ngcontent-%COMP%]{max-width:561px;margin-top:72px;margin-bottom:72px;border-color:#0a2a59}.card-success[_ngcontent-%COMP%]{border-color:#608830!important}.text-edit[_ngcontent-%COMP%]{color:#0a2a59}.card-edit[_ngcontent-%COMP%]{border-color:#f7d811}.form-group[_ngcontent-%COMP%]{text-align:left!important}.submit[_ngcontent-%COMP%]{color:#fff;background-color:#305ea1}.submit-success[_ngcontent-%COMP%]{background-color:#608830!important}.submit-edit[_ngcontent-%COMP%]{background-color:#f7d811!important}.submit[_ngcontent-%COMP%]:focus, .submit[_ngcontent-%COMP%]:hover{background-color:#244679}.submit-success[_ngcontent-%COMP%]:focus, .submit-success[_ngcontent-%COMP%]:hover{background-color:#456222!important}.submit-edit[_ngcontent-%COMP%]:focus, .submit-edit[_ngcontent-%COMP%]:hover{background-color:#e8ca07!important}.card-footer[_ngcontent-%COMP%], .card-header[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-color:#0a2a59}.card-footer-success[_ngcontent-%COMP%], .card-header-success[_ngcontent-%COMP%], .form-control-success[_ngcontent-%COMP%]{border-color:#608830}.card-footer-edit[_ngcontent-%COMP%], .card-header-edit[_ngcontent-%COMP%], .form-control-edit[_ngcontent-%COMP%]{border-color:#f7d811}.card-footer-success[_ngcontent-%COMP%]{color:#608830}.card-footer-edit[_ngcontent-%COMP%]{color:#f7d811}.form-control[_ngcontent-%COMP%]:focus, .submit[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #305ea1}.form-control-success[_ngcontent-%COMP%]:focus, .submit-success[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #608830}.form-control-edit[_ngcontent-%COMP%]:focus, .submit-edit[_ngcontent-%COMP%]:focus{box-shadow:inset 0 1px 1px rgba(0,0,0,.075),0 0 8px #f7d811}"]],data:{}});function bn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(2,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"card-header-success":0}),(n()(),e.Tb(-1,null,[" Create Job Position "]))],(function(n,l){var t=l.component,e=n(l,3,0,t.positionForm.valid&&t.positionForm.dirty);n(l,2,0,"card-header",e)}),null)}function dn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","card-header"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(2,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"text-success":0,"text-danger":1}),(n()(),e.Tb(4,null,[" "," "]))],(function(n,l){var t=l.component,e=n(l,3,0,!t.error,t.error);n(l,2,0,"card-header",e)}),(function(n,l){n(l,4,0,l.component.messageFromServer)}))}function mn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[["class","card-header text-edit card-header-edit"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Edit Job Position "]))],null,null)}function pn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Job Position Name is required. "]))],null,null)}function gn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Job Position Name must be at least 4 characters long. "]))],null,null)}function hn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","text-danger mt-2"]],null,null,null,null,null)),(n()(),e.ob(16777216,null,null,1,null,pn)),e.yb(2,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,gn)),e.yb(4,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,2,0,t.name.errors.required),n(l,4,0,t.name.errors.minlength)}),null)}function fn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Description is required. "]))],null,null)}function vn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,[" Description must be at least 50 characters long. "]))],null,null)}function yn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","text-danger mt-2"]],null,null,null,null,null)),(n()(),e.ob(16777216,null,null,1,null,fn)),e.yb(2,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,vn)),e.yb(4,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,2,0,t.description.errors.required),n(l,4,0,t.description.errors.minlength)}),null)}function Cn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"option",[],null,null,null,null,null)),e.yb(1,147456,null,0,r.o,[e.n,e.K,[2,r.r]],{ngValue:[0,"ngValue"]},null),e.yb(2,147456,null,0,r.w,[e.n,e.K,[8,null]],{ngValue:[0,"ngValue"]},null),(n()(),e.Tb(3,null,[" "," "]))],(function(n,l){n(l,1,0,l.context.$implicit.id),n(l,2,0,l.context.$implicit.id)}),(function(n,l){n(l,3,0,l.context.$implicit.name)}))}function Pn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,10,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"label",[["for","positionDepartment"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Witch Department?"])),(n()(),e.zb(3,0,null,null,7,"select",[["class","form-control"],["formControlName","departmentId"],["id","positionDepartment"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"change"],[null,"blur"]],(function(n,l,t){var u=!0;return"change"===l&&(u=!1!==e.Lb(n,4).onChange(t.target.value)&&u),"blur"===l&&(u=!1!==e.Lb(n,4).onTouched()&&u),u}),null,null)),e.yb(4,16384,null,0,r.r,[e.K,e.n],null,null),e.Qb(1024,null,r.k,(function(n){return[n]}),[r.r]),e.yb(6,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.k],[2,r.v]],{name:[0,"name"]},null),e.Qb(2048,null,r.l,null,[r.f]),e.yb(8,16384,null,0,r.m,[[4,r.l]],null,null),(n()(),e.ob(16777216,null,null,1,null,Cn)),e.yb(10,278528,null,0,i.k,[e.V,e.S,e.v],{ngForOf:[0,"ngForOf"]},null)],(function(n,l){var t=l.component;n(l,6,0,"departmentId"),n(l,10,0,t.departments)}),(function(n,l){n(l,3,0,e.Lb(l,8).ngClassUntouched,e.Lb(l,8).ngClassTouched,e.Lb(l,8).ngClassPristine,e.Lb(l,8).ngClassDirty,e.Lb(l,8).ngClassValid,e.Lb(l,8).ngClassInvalid,e.Lb(l,8).ngClassPending)}))}function On(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,60,"div",[["class","_container"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,59,"div",[["class","card text-center mx-auto"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(3,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(4,{"card-success":0,"card-edit":1}),(n()(),e.ob(16777216,null,null,1,null,bn)),e.yb(6,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,dn)),e.yb(8,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,mn)),e.yb(10,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(11,0,null,null,44,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.zb(12,0,null,null,1,"h5",[["class","card-title"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Insert the information for the new Job Position!"])),(n()(),e.zb(14,0,null,null,41,"form",[["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var u=!0,o=n.component;return"submit"===l&&(u=!1!==e.Lb(n,16).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Lb(n,16).onReset()&&u),"submit"===l&&(u=!1!==o.onSubmit()&&u),u}),null,null)),e.yb(15,16384,null,0,r.x,[],null,null),e.yb(16,540672,null,0,r.h,[[8,null],[8,null]],{form:[0,"form"]},null),e.Qb(2048,null,r.b,null,[r.h]),e.yb(18,16384,null,0,r.n,[[4,r.b]],null,null),(n()(),e.zb(19,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.zb(20,0,null,null,1,"label",[["for","positionName"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Job Position Name"])),(n()(),e.zb(22,0,null,null,9,"input",[["class","form-control"],["formControlName","name"],["id","positionName"],["specialIsAlphaNumericWithSpace",""],["type","text"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"keypress"],[null,"paste"]],(function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Lb(n,26)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Lb(n,26).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Lb(n,26)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Lb(n,26)._compositionEnd(t.target.value)&&u),"keypress"===l&&(u=!1!==e.Lb(n,31).onKeyPress(t)&&u),"paste"===l&&(u=!1!==e.Lb(n,31).blockPaste(t)&&u),u}),null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(24,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(25,{"form-control-success":0,"form-control-edit":1}),e.yb(26,16384,null,0,r.c,[e.K,e.n,[2,r.a]],null,null),e.Qb(1024,null,r.k,(function(n){return[n]}),[r.c]),e.yb(28,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.k],[2,r.v]],{name:[0,"name"]},null),e.Qb(2048,null,r.l,null,[r.f]),e.yb(30,16384,null,0,r.m,[[4,r.l]],null,null),e.yb(31,16384,null,0,s.a,[e.n],null,null),(n()(),e.ob(16777216,null,null,1,null,hn)),e.yb(33,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(34,0,null,null,14,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.zb(35,0,null,null,1,"label",[["for","positionDescription"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Description"])),(n()(),e.zb(37,0,null,null,9,"textarea",[["class","form-control"],["formControlName","description"],["id","positionDescription"]],[[8,"value",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Lb(n,41)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Lb(n,41).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Lb(n,41)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Lb(n,41)._compositionEnd(t.target.value)&&u),u}),null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(39,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(40,{"form-control-success":0,"form-control-edit":1}),e.yb(41,16384,null,0,r.c,[e.K,e.n,[2,r.a]],null,null),e.Qb(1024,null,r.k,(function(n){return[n]}),[r.c]),e.yb(43,671744,null,0,r.f,[[3,r.b],[8,null],[8,null],[6,r.k],[2,r.v]],{name:[0,"name"]},null),e.Qb(2048,null,r.l,null,[r.f]),e.yb(45,16384,null,0,r.m,[[4,r.l]],null,null),(n()(),e.Tb(46,null,["            ","\n          "])),(n()(),e.ob(16777216,null,null,1,null,yn)),e.yb(48,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.ob(16777216,null,null,1,null,Pn)),e.yb(50,16384,null,0,i.l,[e.V,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(51,0,null,null,4,"button",[["class","btn submit w-100"],["type","submit"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(53,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(54,{"submit-success":0,"submit-edit":1}),(n()(),e.Tb(-1,null,[" Submit "])),(n()(),e.zb(56,0,null,null,4,"div",[["class","card-footer text-muted"]],null,null,null,null,null)),e.Qb(512,null,i.B,i.C,[e.v,e.w,e.n,e.K]),e.yb(58,278528,null,0,i.j,[i.B],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(59,{"card-footer-success":0,"card-footer-edit":1}),(n()(),e.Tb(-1,null,[" Click on Submit to finish! "]))],(function(n,l){var t=l.component,e=n(l,4,0,(null==t.positionForm?null:t.positionForm.valid)&&t.positionForm.dirty,t.editMode);n(l,3,0,"card text-center mx-auto",e),n(l,6,0,!t.messageFromServer&&!t.editMode),n(l,8,0,t.messageFromServer),n(l,10,0,!t.messageFromServer&&t.editMode),n(l,16,0,t.positionForm);var u=n(l,25,0,t.name.valid&&t.name.dirty,t.editMode);n(l,24,0,"form-control",u),n(l,28,0,"name"),n(l,33,0,t.name.invalid&&(t.name.dirty||t.name.touched));var o=n(l,40,0,t.description.valid&&t.description.dirty,t.editMode);n(l,39,0,"form-control",o),n(l,43,0,"description"),n(l,48,0,t.description.invalid&&(t.description.dirty||t.description.touched)),n(l,50,0,!t.editMode);var i=n(l,54,0,t.positionForm.valid&&t.positionForm.dirty,t.editMode);n(l,53,0,"btn submit w-100",i);var r=n(l,59,0,t.positionForm.valid&&t.positionForm.dirty,t.editMode);n(l,58,0,"card-footer text-muted",r)}),(function(n,l){var t=l.component;n(l,14,0,e.Lb(l,18).ngClassUntouched,e.Lb(l,18).ngClassTouched,e.Lb(l,18).ngClassPristine,e.Lb(l,18).ngClassDirty,e.Lb(l,18).ngClassValid,e.Lb(l,18).ngClassInvalid,e.Lb(l,18).ngClassPending),n(l,22,0,e.Db(1,"",t.positionForm.value.name,""),e.Lb(l,30).ngClassUntouched,e.Lb(l,30).ngClassTouched,e.Lb(l,30).ngClassPristine,e.Lb(l,30).ngClassDirty,e.Lb(l,30).ngClassValid,e.Lb(l,30).ngClassInvalid,e.Lb(l,30).ngClassPending),n(l,37,0,e.Db(1,"",t.positionForm.value.description,""),e.Lb(l,45).ngClassUntouched,e.Lb(l,45).ngClassTouched,e.Lb(l,45).ngClassPristine,e.Lb(l,45).ngClassDirty,e.Lb(l,45).ngClassValid,e.Lb(l,45).ngClassInvalid,e.Lb(l,45).ngClassPending),n(l,46,0,t.positionForm.value.description)}))}function Sn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-create-position",[],null,null,null,On,cn)),e.yb(1,114688,null,0,an,[b.a,J.a,d.a,d.k,r.d,w.a,m.m,m.m],null,null)],(function(n,l){n(l,1,0)}),null)}var xn=e.vb("app-create-position",an,Sn,{},{},[]),Mn=t("P+IX"),kn=t("Z1MY");let _n=(()=>{class n{constructor(n,l){this.authService=n,this.router=l}canActivate(n,l){const t=this.authService.isSuperAdmin();if(t)return t;const e=this.authService.isAuthorized(+n.params.id);return e||this.router.navigate(["/"]),e}}return n.ngInjectableDef=e.Zb({factory:function(){return new n(e.ac(w.a),e.ac(d.k))},token:n,providedIn:"root"}),n})(),zn=(()=>{class n{constructor(n,l){this.authService=n,this.router=l}canActivate(n,l){const t=this.authService.isSuperAdmin();if(t)return t;const e=this.authService.isAuthorizedForPosition(+n.params.id);return e||this.router.navigate(["/"]),e}}return n.ngInjectableDef=e.Zb({factory:function(){return new n(e.ac(w.a),e.ac(d.k))},token:n,providedIn:"root"}),n})();const Ln={animation:"createDepartment"};class In{}var Fn=t("IP0z"),wn=t("Xd0L"),Vn=t("cUpR"),Tn=t("5M1D"),En=t("wzwP");t.d(l,"DepartmentModuleNgFactory",(function(){return Nn}));var Nn=e.wb(u,[],(function(n){return e.Ib([e.Jb(512,e.l,e.hb,[[8,[o.a,k,sn,xn]],[3,e.l],e.B]),e.Jb(4608,i.n,i.m,[e.x,[2,i.G]]),e.Jb(4608,r.d,r.d,[]),e.Jb(4608,r.u,r.u,[]),e.Jb(1073742336,i.b,i.b,[]),e.Jb(1073742336,r.t,r.t,[]),e.Jb(1073742336,r.q,r.q,[]),e.Jb(1073742336,d.o,d.o,[[2,d.t],[2,d.k]]),e.Jb(1073742336,In,In,[]),e.Jb(1073742336,Fn.a,Fn.a,[]),e.Jb(1073742336,wn.b,wn.b,[[2,wn.a],[2,Vn.f]]),e.Jb(1073742336,z.c,z.c,[]),e.Jb(1073742336,Tn.a,Tn.a,[]),e.Jb(1073742336,En.a,En.a,[]),e.Jb(1073742336,u,u,[]),e.Jb(1024,d.i,(function(){return[[{path:"create-department",component:c,canActivate:[Mn.a,kn.a],data:Ln},{path:"edit-department/:id",component:c,canActivate:[Mn.a,_n]},{path:"view-department/:id",component:$},{path:"create-position",component:an,canActivate:[Mn.a]},{path:"edit-position/:id",component:an,canActivate:[Mn.a,zn]}]]}),[])])}))}}]);